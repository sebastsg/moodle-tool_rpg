{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
  @template tool_rpg/item_list

  Example context (json):
  {
      "canedit": true,
      "newitemlink": "https://moodle.local/admin/tool/rpg/edititem.php",
      "items": [
            {
                "id": 1,
                "name": "Potion",
                "rarity": "common",
                "type": "potion",
                "iconurl": "https://moodle.local/item.png",
                "editlink": "https://moodle.local/admin/tool/rpg/edititem.php?itemid=1",
                "deletelink": "https://moodle.local/admin/tool/rpg/edititem.php?itemid=1&action=delete"
            }
      ]
  }
}}
<h3>Items</h3>
<table class="tool_rpg-item-list generaltable table-sm {{#canedit}}tool_rpg-editing{{/canedit}}">
    <thead>
        <tr>
            <th>{{#str}} icon, tool_rpg {{/str}}</th>
            <th>{{#str}} name, tool_rpg {{/str}}</th>
            <th>{{#str}} rarity, tool_rpg {{/str}}</th>
            <th>{{#str}} type, tool_rpg {{/str}}</th>
            {{#canedit}}
                <th colspan="2">&nbsp;</th>
            {{/canedit}}
        </tr>
    </thead>
    <tbody>
    {{#items}}
        <tr>
            <td><img src="{{{iconurl}}}" alt="{{name}}" width="32"></td>
            <td>{{name}}</td>
            <td>{{rarity}}</td>
            <td>{{type}}</td>
            {{#canedit}}
                <td>
                    <a href="{{{editlink}}}" title="{{#str}} edititem, tool_rpg {{/str}}" aria-label="{{#str}} edititem, tool_rpg {{/str}}">
                        <i class="icon fa fa-pencil fa-fw" role="img"></i>
                    </a>
                </td>
                <td>
                    <a href="{{{deletelink}}}" class="text-danger" title="{{#str}} deleteitem, tool_rpg {{/str}}" aria-label="{{#str}} deleteitem, tool_rpg {{/str}}">
                        <i class="icon fa fa-trash fa-fw" role="img"></i>
                    </a>
                </td>
            {{/canedit}}
        </tr>
    {{/items}}
    </tbody>
</table>

{{#canedit}}
<div>
    <a href="{{newitemlink}}" class="btn btn-primary">{{#str}} createnewitem, tool_rpg {{/str}}</a>
</div>
{{/canedit}}
