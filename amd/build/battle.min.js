define("tool_rpg/battle",["exports","core/ajax"],(function(_exports,_ajax){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};const Selectors_startBattleButton=".tool_rpg-start-battle-button",Selectors_declineBattleButton=".tool_rpg-decline-battle-button",Selectors_attackMonsterButton=".tool_rpg-attack-monster-button",Selectors_reloadButton=".tool_rpg-reload-button";_exports.init=()=>{document.addEventListener("click",(event=>{var battleid;event.target.closest(Selectors_startBattleButton)?event.target.dataset.battleid&&(battleid=event.target.dataset.battleid,_ajax.default.call([{methodname:"tool_rpg_start_battle",args:{battleid:battleid}}])[0].done((()=>location.reload()))):event.target.closest(Selectors_declineBattleButton)?event.target.dataset.battleid&&(battleid=>{_ajax.default.call([{methodname:"tool_rpg_decline_battle",args:{battleid:battleid}}])[0].done((()=>{var _document$querySelect,_document$querySelect2;null===(_document$querySelect=document.querySelector(".tool_rpg-start-battle"))||void 0===_document$querySelect||_document$querySelect.remove(),null===(_document$querySelect2=document.querySelector(".tool_rpg-ongoing-battle"))||void 0===_document$querySelect2||_document$querySelect2.remove()}))})(event.target.dataset.battleid):event.target.closest(Selectors_attackMonsterButton)?event.target.dataset.battleid&&(battleid=>{_ajax.default.call([{methodname:"tool_rpg_attack_monster",args:{battleid:battleid}}])[0].done((()=>location.reload()))})(event.target.dataset.battleid):event.target.closest(Selectors_reloadButton)&&location.reload()}))}}));

//# sourceMappingURL=battle.min.js.map